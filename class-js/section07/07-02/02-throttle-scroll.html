<!DOCTYPE html>
<html lang="ko">
<head>
    <title>스로틀링 실습</title>
    <style>
        .CSS_네모상자 {
            width:500px;
            height:500px;
            background-color:green;
            margin:50px;
        }
    </style>
    <script>
        let 타이머 = null
        window.addEventListener("scroll", () => {
            const 스크롤퍼센트 = document.documentElement.scrollTop / (document.documentElement.scrollHeight - document.documentElement.clientHeight)
            // if(타이머 !== null){
            //     return
            // } if문에서 한줄일땐 {} 생략가능
            if(스크롤퍼센트 < 0.7) return;
            if(타이머 !== null) return;

            // if(1+1 === 2){
            //     if(2+2 === 4){
            //         if(3+3 === 6){
            //             // 실행할 내용
            //         }
            //     }
            // }
            // if(1+1 !== 2 ) return
            // if(2+2 !== 4 ) return
            // if(3+3 !== 6 ) return (early exit 패턴)
            // 실행할 내용

            console.log("스크롤을 검사합니다.")

                console.log("상자를 그려줍니다.")

                const 기존네모상자들 = document.getElementById("HTML_네모상자보여주는곳").innerHTML
                document.getElementById("HTML_네모상자보여주는곳").innerHTML = 기존네모상자들 + `
                    <div class="CSS_네모상자"></div>
                `

                타이머 = setTimeout(() => {
                    타이머 = null
            }, 1000)
        })
    </script>
</head>
<body>
    <div id="HTML_네모상자보여주는곳">
        <div class="CSS_네모상자"></div>
        <div class="CSS_네모상자"></div>
        <div class="CSS_네모상자"></div>
    </div>
</body>
</html>