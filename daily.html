<!DOCTYPE html>
<html lang="ko">
    <head>
        <title>daily</title>
        <link rel="stylesheet" href="./style/dailyStyle.css" />
        <script>
            document.addEventListener("DOMContentLoaded", (event) => {
                const initialDailyArray = [
                    {
                        id: 0,
                        moodEng: "happy",
                        mood: "í–‰ë³µí•´ìš”",
                        date: today,
                        title: "íƒ€ì´í‹€ ì˜ì—­ì…ë‹ˆë‹¤.",
                        content: "ì»¨í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.",
                        img: `./img/happy.png`,
                    },
                    {
                        id: 1,
                        moodEng: "sad",
                        mood: "ìŠ¬í¼ìš”",
                        date: today,
                        title: "íƒ€ì´í‹€ ì˜ì—­ì…ë‹ˆë‹¤.",
                        content: "ì»¨í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.",
                        img: `./img/sad.png`,
                    },
                    {
                        id: 2,
                        moodEng: "surprise",
                        mood: "ë†€ëì–´ìš”",
                        date: today,
                        title: "íƒ€ì´í‹€ì˜ì—­ì…ë‹ˆë‹¤.2131232132131231232131221312321312312",
                        content: "ì»¨í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.",
                        img: `./img/surprise.png`,
                    },
                    {
                        id: 3,
                        moodEng: "etc",
                        mood: "ê¸°íƒ€",
                        date: today,
                        title: "íƒ€ì´í‹€ ì˜ì—­ì…ë‹ˆë‹¤.",
                        content: "ì»¨í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.",
                        img: `./img/etc.png`,
                    },
                    {
                        id: 4,
                        moodEng: "angry",
                        mood: "í™”ë‚˜ìš”",
                        date: today,
                        title: "íƒ€ì´í‹€ ì˜ì—­ì…ë‹ˆë‹¤.",
                        content: "ì»¨í…ì¸  ì˜ì—­ì…ë‹ˆë‹¤.",
                        img: `./img/angry.png`,
                    },
                ];
                const dailyArray = JSON.parse(
                    localStorage.getItem("dailyArray")
                );

                const parentElement = document.getElementById("post");

                if (!dailyArray) {
                    localStorage.setItem(
                        "dailyArray",
                        JSON.stringify(initialDailyArray)
                    );
                    initialDailyArray.map((resultObject, index) => {
                        const postContainer = document.createElement("a");
                        postContainer.href = `./dailyDetailInfor.html?id=${resultObject.id}`;
                        postContainer.className = "post-container";
                        postContainer.innerHTML = `
        <img src="${resultObject.img}" alt="1" id=${resultObject.id}  class="post-img" />
        <div class="post-title">
            <div class="post-font-${resultObject.moodEng}">${resultObject.mood}</div>
            <div class="post-date">${resultObject.date}</div>
        </div>
        <div class="post-content">${resultObject.title}</div>
    `;

                        parentElement.appendChild(postContainer);
                    });
                } else {
                    dailyArray.map((resultObject, index) => {
                        const postContainer = document.createElement("a");
                        postContainer.href = `./dailyDetailInfor.html?id=${resultObject.id}`;
                        postContainer.className = "post-container";
                        postContainer.innerHTML = `
        <img src="${resultObject.img}" alt="1" id=${resultObject.id}  class="post-img" />
        <div class="post-title">
            <div class="post-font-${resultObject.moodEng}">${resultObject.mood}</div>
            <div class="post-date">${resultObject.date}</div>
        </div>
        <div class="post-content">${resultObject.title}</div>
    `;

                        parentElement.appendChild(postContainer);
                    });
                }
            });
        </script>
    </head>
    <body>
        <main>
            <header>
                <div class="header-text-container">
                    <div class="header-text">ë¯¼ì§€ì˜ ë‹¤ì´ì–´ë¦¬</div>
                </div>
                <img src="./img/Rectangle1.png" alt="img" class="header-img" />
            </header>
            <article>
                <div class="article-header">
                    <div>ì¼ê¸° ë³´ê´€í•¨</div>
                    <div class="article-header-text">ì‚¬ì§„ ë³´ê´€í•¨</div>
                    <select name="" id="">
                        <option disabled selected>v ì „ì²´</option>
                        <option value="happy">í–‰ë³µí•´ìš”</option>
                        <option value="sad">ìŠ¬í¼ìš”</option>
                        <option value="surprise">ë†€ëì–´ìš”</option>
                        <option value="angry">í™”ë‚˜ìš”</option>
                        <option value="etc">ê¸°íƒ€</option>
                    </select>
                </div>
                <div class="article-main">
                    <div id="post" class="post"></div>
                    <div class="daily">
                        <div class="daily-header">ğŸ“ ì¼ê¸° ì“°ê¸°</div>
                        <div class="daily-checkcontainer">
                            <div>ì˜¤ëŠ˜ ê¸°ë¶„ì€ ì–´ë•Ÿë‚˜ìš”?</div>
                            <div class="daily-inputlist">
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="happy"
                                    />
                                    <label for="">í–‰ë³µí•´ìš”</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="sad"
                                    />
                                    <label for="">ìŠ¬í¼ìš”</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="surprise"
                                    />
                                    <label for="">ë†€ëì–´ìš”</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="angry"
                                    />
                                    <label for="">í™”ë‚˜ìš”</label>
                                </div>
                                <div class="daily-input">
                                    <input
                                        type="radio"
                                        oninput="onInputButtonChange()"
                                        name="radio"
                                        class="input-radio"
                                        id="etc"
                                    />
                                    <label for="">ê¸°íƒ€</label>
                                </div>
                            </div>
                        </div>
                        <div class="daily-form">
                            <div class="daily-form-input">
                                <div class="daily-title">
                                    <div>ì œëª©</div>
                                    <input
                                        type="text"
                                        id="titleId"
                                        class="input-title"
                                        placeholder="ì œëª©ì„ ì…ë ¥í•´ ì£¼ì„¸ìš”."
                                        oninput="onInputButtonChange()"
                                    />
                                </div>
                                <div class="daily-title">
                                    <div>ë‚´ìš©</div>
                                    <textarea
                                        id="contentId"
                                        class="input-title input-content"
                                        placeholder="ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”"
                                        oninput="onInputButtonChange()"
                                    ></textarea>
                                </div>
                            </div>
                            <button
                                id="submitButton"
                                class="submit-button"
                                onclick="pushDaily()"
                                disabled
                            >
                                ë“±ë¡í•˜ê¸°
                            </button>
                        </div>
                    </div>
                </div>
            </article>
        </main>
        <footer>
            <div class="footer-1">ë¯¼ì§€ì˜ ë‹¤ì´ì–´ë¦¬</div>
            <div class="footer-2">ëŒ€í‘œ : ë¯¼ì§€</div>
            <div class="footer-3">Copyright Â© 2024. {name} Co., Ltd.</div>
        </footer>
    </body>

    <script src="./utils/pushDaily.js"></script>
    <script src="./utils/onClickDailyInfor.js"></script>
    <script src="./utils/onInputButtonChange.js"></script>
</html>
