<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>이벤트 루프 실습</title>
    <script>
      const onClickButton = () => {
        console.log("시작");

        setTimeout(() => {
          console.log("0초 후 실행");
        }, 0);

        let sum = 0;
        for (let i = 0; i < 1000; i++) {
          sum += i;
        }

        console.log("끝 / 합계: ", sum);
      };

      // 위 함수를 실행시
      // "시작" -> "끝 / 합계: 499500" -> "0초 후 실행" 순서로 출력된다.
      // setTimeout 함수는 비동기로 동작하기 때문에, 이벤트 루프에 의해 콜백 함수가 대기열에 들어가고, 이벤트 루프가 다음 작업을 수행한 후 콜백 함수를 실행한다.
      // 쉽게 말해서 기다림이 생기는 요소는 태스크 큐에 들어가서 기다리다가 실행된다.
      // for문의 경우 기다림이 필요하다기 보단 일이 많음
      // 스래드(일꾼) -> 싱글스레드 -> 이벤트루프스레드

      // 싱글스레드 vs 멀티스레드
      // 싱글스레드: 하나의 일꾼이 일을 처리하는 방식
      // 멀티스레드: 여러 일꾼이 일을 처리하는 방식

      // 두가지 방법의 차이와 장단점
      // 싱글스레드: 하나의 일꾼이 일을 처리하기 때문에, 일이 순차적으로 처리된다. 그렇기에 오래걸리는 일을 만나면 다른일들이 모두 막힘 (단, 비동기 처리가 가능하다.)
      // 멀티스레드: 여러 일꾼이 일을 처리하기 때문에, 일이 병렬적으로 처리된다. 그렇기에 오래 걸리는 일을 만나도 다른일도 같이 진행 (단, 동기 처리만 가능하다.)
    </script>
  </head>
  <body>
    <button onclick="onClickButton()">시작하기</button>
  </body>
</html>
