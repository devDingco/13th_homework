<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>이메일 검증</title>
    <script>
      function 회원가입버튼() {
        // 사용자가 입력한 이메일 주소를 가져온다
        let 사용자이메일 = document.getElementById("사용자이메일").value;

        // @ 문자 확인
        let 골뱅이존재 = false;
        // 이메일 주소의 각 문자를 순회하며 @ 문자가 있는지 확인
        for (let 반복횟수 = 0; 반복횟수 < 사용자이메일.length; 반복횟수++) {
          if (사용자이메일[반복횟수] === "@") {
            골뱅이존재 = true;
            break; // @ 문자를 찾으면 반복을 중단
          }
        }

        // @ 문자가 없으면 경고 메시지를 표시하고 함수를 종료
        if (!골뱅이존재) {
          alert("❌ 제대로 된 이메일이 아닙니다. 이메일에 @가 없습니다.");
          return;
        }

        // 이메일 주소를 @ 기준으로 분할
        const 이메일분할 = 사용자이메일.split("@");
        // @ 뒤의 도메인 부분을 가져온다
        const 사용자이메일뒷부분 = 이메일분할[1];

        // 허용된 도메인 목록을 정의
        const 허용된도메인 = ["naver.com", "gmail.com", "hanmail.net"];

        // 도메인 확인
        let 도메인일치 = false;
        // 허용된 도메인 목록을 순회하며 사용자의 이메일 도메인과 일치하는지 확인
        for (let 반복횟수 = 0; 반복횟수 < 허용된도메인.length; 반복횟수++) {
          if (사용자이메일뒷부분 === 허용된도메인[반복횟수]) {
            도메인일치 = true;
            break; // 일치하는 도메인을 찾으면 반복을 중단
          }
        }

        // 허용된 도메인이 아니면 경고 메시지를 표시하고 함수를 종료
        if (!도메인일치) {
          alert(
            "이메일은 naver.com, gmail.com, hanmail.net 중에서만 가입 가능합니다."
          );
          return;
        }

        // 모든 검증을 통과하면 축하 메시지
        alert("회원가입을 축하합니다👋🏻");
      }
    </script>
  </head>
  <body>
    이메일: <input id="사용자이메일" type="text" />
    <button onclick="회원가입버튼()">회원가입</button>
  </body>
</html>
